---
import Layout from "~/layouts/Layout.astro";
import { Code } from "astro:components";
import WarningBanner from "~/components/WarningBanner.astro";

const codeExample = `import { route, setup } from "@hectoday/http";

const app = setup([
  route.get("/", {
    resolve: () => {
      return new Response("Hello HTTP");
    },
  }),
]);

Deno.serve(app.fetch);`;
---

<style>
    .full-width-header {
        margin: -2rem -2rem 3rem -2rem;
        width: calc(100% + 4rem);
    }

    @media (min-width: 768px) {
        .full-width-header {
            margin: -2rem calc(-50vw + 50%) 3rem calc(-50vw + 50%);
            width: 100vw;
        }
    }

    .header-section {
        position: relative;
        overflow: hidden;
        background: linear-gradient(180deg, #000000 51%, #3458d3 100%);
        min-height: max(500px, 60vh);
        height: 80vh;
        max-height: 900px;
        padding: clamp(3rem, 8vh, 6rem) 0 clamp(4rem, 10vh, 8rem) 0;
        display: flex;
        align-items: center;
    }

    @media (max-height: 600px) {
        .header-section {
            height: 70vh;
            min-height: 450px;
        }
    }

    @media (min-height: 900px) {
        .header-section {
            height: 70vh;
        }
    }

    .header-section::after {
        content: "";
        position: absolute;
        bottom: -60px;
        left: 50%;
        transform: translateX(-50%);
        width: 1670px;
        height: 244px;
        background-image: url("/planet.svg");
        background-size: contain;
        background-position: center bottom;
        background-repeat: no-repeat;
        z-index: 1;
        pointer-events: none;
    }

    .header-content {
        position: relative;
        z-index: 2;
        margin: 0 auto;
        padding: 0 2rem;
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        color: white;
    }

    .header-content h1 {
        color: white;
    }

    .header-content nav a {
        color: white;
    }

    .shooting-stars {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
        overflow: hidden;
    }

    .static-star {
        position: absolute;
        width: 5px;
        height: 5px;
        background-image: url("/star.svg");
        background-size: contain;
        background-repeat: no-repeat;
        z-index: -1;
    }

    .static-star:nth-child(6) {
        left: 10%;
        top: 15%;
        animation: twinkle1 3s ease-in-out infinite;
        animation-delay: 0s;
    }
    .static-star:nth-child(7) {
        left: 25%;
        top: 25%;
        animation: twinkle2 3.5s ease-in-out infinite;
        animation-delay: 0.5s;
    }
    .static-star:nth-child(8) {
        left: 40%;
        top: 10%;
        animation: twinkle3 2.8s ease-in-out infinite;
        animation-delay: 1s;
    }
    .static-star:nth-child(9) {
        left: 55%;
        top: 30%;
        animation: twinkle4 3.2s ease-in-out infinite;
        animation-delay: 1.5s;
    }
    .static-star:nth-child(10) {
        left: 70%;
        top: 20%;
        animation: twinkle5 2.5s ease-in-out infinite;
        animation-delay: 0.3s;
    }
    .static-star:nth-child(11) {
        left: 85%;
        top: 35%;
        animation: twinkle1 3.8s ease-in-out infinite;
        animation-delay: 0.8s;
    }
    .static-star:nth-child(12) {
        left: 15%;
        top: 45%;
        animation: twinkle2 3.3s ease-in-out infinite;
        animation-delay: 1.2s;
    }
    .static-star:nth-child(13) {
        left: 30%;
        top: 55%;
        animation: twinkle3 2.9s ease-in-out infinite;
        animation-delay: 1.7s;
    }
    .static-star:nth-child(14) {
        left: 50%;
        top: 50%;
        animation: twinkle4 3.1s ease-in-out infinite;
        animation-delay: 0.6s;
    }
    .static-star:nth-child(15) {
        left: 65%;
        top: 60%;
        animation: twinkle5 2.7s ease-in-out infinite;
        animation-delay: 1.4s;
    }
    .static-star:nth-child(16) {
        left: 80%;
        top: 50%;
        animation: twinkle1 3.4s ease-in-out infinite;
        animation-delay: 0.2s;
    }
    .static-star:nth-child(17) {
        left: 12%;
        top: 70%;
        animation: twinkle2 2.6s ease-in-out infinite;
        animation-delay: 1.9s;
    }
    .static-star:nth-child(18) {
        left: 28%;
        top: 75%;
        animation: twinkle3 3.6s ease-in-out infinite;
        animation-delay: 0.7s;
    }
    .static-star:nth-child(19) {
        left: 45%;
        top: 80%;
        animation: twinkle4 2.9s ease-in-out infinite;
        animation-delay: 1.3s;
    }
    .static-star:nth-child(20) {
        left: 60%;
        top: 85%;
        animation: twinkle5 3.7s ease-in-out infinite;
        animation-delay: 1.1s;
    }
    .static-star:nth-child(21) {
        left: 75%;
        top: 75%;
        animation: twinkle1 2.8s ease-in-out infinite;
        animation-delay: 0.4s;
    }
    .static-star:nth-child(22) {
        left: 90%;
        top: 80%;
        animation: twinkle2 3.2s ease-in-out infinite;
        animation-delay: 1.6s;
    }
    .static-star:nth-child(23) {
        left: 20%;
        top: 90%;
        animation: twinkle3 3.5s ease-in-out infinite;
        animation-delay: 0.9s;
    }
    .static-star:nth-child(24) {
        left: 52%;
        top: 95%;
        animation: twinkle4 2.7s ease-in-out infinite;
        animation-delay: 1.8s;
    }
    .static-star:nth-child(25) {
        left: 82%;
        top: 90%;
        animation: twinkle5 3.3s ease-in-out infinite;
        animation-delay: 0.1s;
    }
    .static-star:nth-child(26) {
        left: 5%;
        top: 12%;
        animation: twinkle1 3.1s ease-in-out infinite;
        animation-delay: 0.5s;
    }
    .static-star:nth-child(27) {
        left: 35%;
        top: 8%;
        animation: twinkle2 2.9s ease-in-out infinite;
        animation-delay: 1.1s;
    }
    .static-star:nth-child(28) {
        left: 62%;
        top: 18%;
        animation: twinkle3 3.4s ease-in-out infinite;
        animation-delay: 0.7s;
    }
    .static-star:nth-child(29) {
        left: 78%;
        top: 28%;
        animation: twinkle4 2.8s ease-in-out infinite;
        animation-delay: 1.5s;
    }
    .static-star:nth-child(30) {
        left: 92%;
        top: 15%;
        animation: twinkle5 3.2s ease-in-out infinite;
        animation-delay: 0.3s;
    }
    .static-star:nth-child(31) {
        left: 8%;
        top: 38%;
        animation: twinkle1 2.7s ease-in-out infinite;
        animation-delay: 1.8s;
    }
    .static-star:nth-child(32) {
        left: 22%;
        top: 48%;
        animation: twinkle2 3.5s ease-in-out infinite;
        animation-delay: 0.9s;
    }
    .static-star:nth-child(33) {
        left: 48%;
        top: 42%;
        animation: twinkle3 3s ease-in-out infinite;
        animation-delay: 1.3s;
    }
    .static-star:nth-child(34) {
        left: 72%;
        top: 55%;
        animation: twinkle4 2.6s ease-in-out infinite;
        animation-delay: 0.6s;
    }
    .static-star:nth-child(35) {
        left: 88%;
        top: 45%;
        animation: twinkle5 3.3s ease-in-out infinite;
        animation-delay: 1.4s;
    }
    .static-star:nth-child(36) {
        left: 18%;
        top: 62%;
        animation: twinkle1 2.9s ease-in-out infinite;
        animation-delay: 0.8s;
    }
    .static-star:nth-child(37) {
        left: 38%;
        top: 68%;
        animation: twinkle2 3.1s ease-in-out infinite;
        animation-delay: 1.6s;
    }
    .static-star:nth-child(38) {
        left: 58%;
        top: 72%;
        animation: twinkle3 2.8s ease-in-out infinite;
        animation-delay: 1s;
    }
    .static-star:nth-child(39) {
        left: 68%;
        top: 65%;
        animation: twinkle4 3.4s ease-in-out infinite;
        animation-delay: 0.4s;
    }
    .static-star:nth-child(40) {
        left: 95%;
        top: 70%;
        animation: twinkle5 2.7s ease-in-out infinite;
        animation-delay: 1.7s;
    }

    @keyframes twinkle1 {
        0%,
        100% {
            opacity: 1;
        }
        50% {
            opacity: 0.3;
        }
    }

    @keyframes twinkle2 {
        0%,
        100% {
            opacity: 1;
        }
        45% {
            opacity: 0.2;
        }
    }

    @keyframes twinkle3 {
        0%,
        100% {
            opacity: 1;
        }
        55% {
            opacity: 0.4;
        }
    }

    @keyframes twinkle4 {
        0%,
        100% {
            opacity: 1;
        }
        48% {
            opacity: 0.25;
        }
    }

    @keyframes twinkle5 {
        0%,
        100% {
            opacity: 1;
        }
        52% {
            opacity: 0.35;
        }
    }

    .star {
        position: absolute;
        background-image: url("/falling_star.svg");
        background-size: contain;
        background-repeat: no-repeat;
        opacity: 0;
        z-index: -1;
    }

    .star:nth-child(1) {
        top: -80px;
        left: 20%;
        width: 80px;
        height: 83px;
        animation: shooting1 3s linear infinite;
        animation-delay: 0s;
    }

    .star:nth-child(2) {
        top: -120px;
        left: 50%;
        width: 120px;
        height: 124px;
        animation: shooting2 5s linear infinite;
        animation-delay: 8s;
    }

    .star:nth-child(3) {
        top: -60px;
        left: 70%;
        width: 60px;
        height: 62px;
        animation: shooting3 3.5s linear infinite;
        animation-delay: 15s;
    }

    .star:nth-child(4) {
        top: -100px;
        left: 35%;
        width: 95px;
        height: 98px;
        animation: shooting4 4.5s linear infinite;
        animation-delay: 4s;
    }

    .star:nth-child(5) {
        top: -70px;
        left: 85%;
        width: 70px;
        height: 72px;
        animation: shooting5 4s linear infinite;
        animation-delay: 12s;
    }

    @keyframes shooting1 {
        0% {
            transform: translate(0, 0);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            transform: translate(-280px, 280px);
            opacity: 0;
        }
    }

    @keyframes shooting2 {
        0% {
            transform: translate(0, 0);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            transform: translate(-450px, 450px);
            opacity: 0;
        }
    }

    @keyframes shooting3 {
        0% {
            transform: translate(0, 0);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            transform: translate(-260px, 260px);
            opacity: 0;
        }
    }

    @keyframes shooting4 {
        0% {
            transform: translate(0, 0);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            transform: translate(-380px, 380px);
            opacity: 0;
        }
    }

    @keyframes shooting5 {
        0% {
            transform: translate(0, 0);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            transform: translate(-320px, 320px);
            opacity: 0;
        }
    }
</style>

<Layout
    title="@hectoday/http"
    description="An explicit, standards-first HTTP framework built for learning."
>
    <div class="full-width-header">
        <header class="header-section">
            <div class="shooting-stars">
                <span class="star"></span>
                <span class="star"></span>
                <span class="star"></span>
                <span class="star"></span>
                <span class="star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
                <span class="static-star"></span>
            </div>
            <div class="header-content">
                <h1
                    class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-extrabold tracking-tighter"
                >
                    @hectoday/http
                </h1>
            </div>
        </header>
    </div>

    <div class="prose">
        <WarningBanner
            message="This framework is under development and imperfections may occur."
        />

        <p class="text-xl leading-relaxed mb-8 font-medium">
            An explicit, standards-first HTTP framework built for learning.
        </p>

        <hr />

        <h2>Why</h2>

        <p>
            Most frameworks abstract HTTP away. <strong
                >@hectoday/http does the opposite.</strong
            >
        </p>

        <p>
            You work directly with <code>Request</code>, <code>Response</code>,
            headers, status codes, routing, and guards.
        </p>

        <p>
            So you actually learn <strong>how the web works</strong>, not just
            how to use a framework.
        </p>

        <hr />

        <h2>Example</h2>

        <div class="border border-[--color-border] overflow-clip rounded">
            <Code
                code={codeExample}
                lang="ts"
                theme="github-light"
                class="[&_pre]:m-0"
            />
        </div>

        <p class="mt-4">No wrappers. No custom response objects. Just HTTP.</p>

        <hr />

        <h2>Principles</h2>

        <ul class="space-y-4">
            <li>
                <strong>Web standards first</strong><br />
                Built on the Fetch API
            </li>
            <li>
                <strong>Explicit control flow</strong><br />
                You decide what happens
            </li>
            <li>
                <strong>Minimal surface area</strong><br />
                Small API, easy to reason about
            </li>
            <li>
                <strong>Education-first</strong><br />
                Clarity over convenience
            </li>
        </ul>

        <hr />

        <h2>Good for</h2>

        <ul>
            <li>Learning HTTP properly</li>
            <li>Teaching web fundamentals</li>
            <li>Understanding request lifecycles</li>
            <li>Building APIs</li>
        </ul>

        <hr />

        <blockquote
            class="border-l-[3px] border-[--color-border] pl-6 py-2 my-12 text-xl italic font-medium"
        >
            <p class="mb-0!">
                Learn the protocol. Then build the abstractions.
            </p>
        </blockquote>

        <hr />
        <nav class="space-x-6 text-base font-medium">
            <a href="/docs" class="hover:opacity-60 transition-opacity">Docs</a>
            <a
                href="https://github.com/hectoday/http"
                class="hover:opacity-60 transition-opacity">GitHub</a
            >
            <a
                href="https://jsr.io/@hectoday/http"
                class="hover:opacity-60 transition-opacity">JSR</a
            >
        </nav>
    </div>
</Layout>
